---
layout: post
title: 区块链和拜占庭将军问题
tags: [区块链]
---

---

**【内容】**下面讲讲什么是拜占庭将军问题，同时和区块链技术之间的关系。

**拜占庭将军问题（Byzantine Generals Problem），首先由[Leslie Lamport](https://dl.acm.org/citation.cfm?id=357176)与另外两人在1982年提出，数学模型简单，但在`计算机科学领域`却很困扰，是区块链的核心问题，体现在分布式系统。**

## 一 拜占庭将军问题

**1.故事：**

> 拜占庭帝国即中世纪的土耳其，拥有着巨大的财富，周围10个邻邦垂诞已久，但拜占庭高墙耸立，固若金汤，没有一个单独的邻邦能够成功入侵。拜占庭帝国防御能力如此之强，以至于至少要有十个邻邦中的一半以上同时进攻，才有可能攻破。然而，在联合进攻的时候，如果出现背叛，入侵者都会被歼灭，每一方都小心而不敢轻易相信邻国，这就是拜占庭将军问题。

**2.假设：**

一场联合战役中，有七个将军带领七支军队。每一个将军独立判断的可能有`进攻`和`撤退`，如何让互不信任的七支军队一起进攻或者一起撤退？那么，用少数服从多数的投票机制来决定。如果，三个将军表示撤退，四个将军表示进攻，那么所有下令进攻。

**3.问题：**

如果出现了叛徒，那么会出现以下两种情况：

- 欺骗其他将军进攻，自己采取撤退；
- 迷惑广播，给一部分将军传达进攻，一部分传达撤退；

> **结论：如果叛徒的数量大于或等于1/3，拜占庭问题不可解。**

**4.方案**

有两个传统解决方案：`口头协议`和`书面信息`：

*方案一：口头协议*

> **1.每个被发送的消息都能够被正确投递；**

> **2.信息接受者知道消息是谁发的；**

> **3.沉默（不发消息）可以被检测；**

每个节点都是信息的发送和接受着，比如，有`n`个节点，那么单个节点会接受其他`n-1`个节点的信息同时它自己会为其他`n-1`个节点发送信息（通信代价），各自进行信息比对，然后做出少数服从多数的决策。
缺点，出现叛徒时无法追根溯源。

*方案二：书面协议*

> **1.每个节点使用签名技术，签名不可伪造；**

> **2.任何节点都可以验证签名的可靠性；**

> **3.解决了追根溯源的问题；**

但还是会遇到各种问题，相互互不信任，签名依然可以伪造，签名信息难以摆脱中心化，消息延迟，通信消耗代价更高。解决这些问题，那么来谈谈区块链解决方案。

---

## 二 区块链方案

**1.加密**

非对称加密技术解决传统签名的问题：

> **1.消息传送的私密性；**

> **2.能够确认身份；**

> **3.签名不可伪造、篡改；**

算法的核心采用了`公钥`和`私钥`成对。公钥加密，只能用私钥才能破解。让一个不可信的分布式网络变成了可信的网络。

**2.工作量**

计算机通过穷举法找到交易块的随机数（**哈希现金**）来破解交易信息，第一个算出来的得到比特币奖励，分布式网络中：

> **1.实时同步账本；**

> **2.签名认证，排除背叛；**

> **3.少数服从多数；**

**3.共识**

互联网计算机技术，实时通信，避免了传统的通讯延迟。
区块链中使用`链型数据结构`+`算力互相制约`，使作假成本随时间成指数级增长，解决**一致性**。
少数服从多数，正确信息更多，则去中心化来达到**共识**。










